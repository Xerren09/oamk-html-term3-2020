<!DOCTYPE html>
<html>
    <head>
        <title>GPU Store</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">
        <link rel="stylesheet" href="home.css" />
        <link rel="stylesheet" href="fontawesome-free-5.15.1-web/css/all.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400&display=swap" rel="stylesheet">
    </head>
    <body>
        <!-- Page headers start here -->
        <div>
            <div id="HeaderContainer">
                <div id="HeaderBar">
                    <div class="Group">
                        <div id="DropdownSidebar">
                            <p> <i class="fa fa-bars"></i> </p>
                        </div>
                        <div id="Title">
                            <p>
                            <h1><b>Generic GPU Store</b></h1>
                            </p>
                        </div>
                    </div>
                    <div class="Group">
                        <div id="Account">
                            <a id="User_Login" href="error.html"> Log in </a>
                            <span style="color: #5f6062">or</span>
                            <a id="Create_Account" href="error.html"> Create an account </a>
                        </div>
                        <div id="Cart">
                            <a id="CartLink" href="cart.html"> <i class="fa fa-shopping-cart"></i> Cart: 0</a>
                        </div>
                        <div id="SearchBar">
                            <form action="error.html">
                                <button id="SearchButton" type="submit"> <i class="fa fa-search"></i> </button>
                                <input type="text" id="SearchField" placeholder="Search...">
                            </form>
                        </div>
                    </div>
                </div>
                <div id="MenuBar">
                    <button id="Btn_Left" title="Home" onclick="window.location.href='home.html'"> <b>Home</b> </button>
                    <button title="Games and media" onclick="window.location.href='error.html'"> <b>Games and Media</b> </button>
                    <button title="Cooling" onclick="window.location.href='error.html'"> <b>Cooling</b> </button>
                    <button title="Accessories" onclick="window.location.href='error.html'"> <b>Accessories</b> </button>
                    <button id="Btn_Right" title="Spare parts" onclick="window.location.href='error.html'"> <b>Spare Parts</b>
                    </button>
                </div>
            </div>
            
            <!-- Page content starts here -->
            
            <div id="Content">
            
                <div>
                    <img src="msi-5f033292b1e08-msi-geforce_rtx_20_super-banner_1920x550-master.jpg" height="100%" width="100%"
                        alt="">
                </div>
            
                <div id="ItemFrame">
                    <!-- Product cards come here -->
                </div>
            
            </div>
        </div>

        <!-- Page footer starts here -->

        <div id="Footer">
            <a href="https://www.freepik.com/vectors/background">Background vector created by starline - www.freepik.com</a>
        </div>

        <script>
            const _data = [
                {
                    name: 'AMD Radeon 5700 XT',
                    price: '459',
                    image: 'resources/Images/251223-b324043_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS GeForce RTX 3070 8GB DUAL',
                    price: '599',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'MSI GeForce RTX 3070 Ventus 3X OC',
                    price: '619',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS GeForce RTX 3070 8GB GDDR6 DUAL OC',
                    price: '619',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'GeForce RTX3070 GamingPro',
                    price: '639',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS TUF GAMING GeForce RTX™ 3070 OC Edition 8GB GDDR6',
                    price: '669',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'EVGA GeForce RTX 3070 XC3 BLACK',
                    price: '619',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS ROG STRIX RTX3090 O24G GAMING',
                    price: '1889',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS GeForce RTX 3070 8GB GDDR6 ROG STRIX GAMING',
                    price: '719',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                }
                ];

            var _cart = [];

            pupulateTiles();

            function pupulateTiles() {
                for (let i = 0; i < _data.length; i++)
                {
                    addItemToPage(i, _data[i].image, _data[i].name, _data[i].price);
                }
                _cart.length = 0;
                _cart = JSON.parse(sessionStorage.getItem("_cart"));
                if (!_cart.length) { /*empty*/ }
                else { document.getElementById("CartLink").textContent = " Cart: " + (_cart.length); }
            }
            
            function addItemToPage(itemID, imagePath, itemName, itemPrice){
                let frame = document.createElement('div');
                frame.classList.add('ItemContainer');

                let item = document.createElement('div');
                item.classList.add('Item');

                let image = document.createElement('img');
                image.classList.add('ItemImg');
                image.src = imagePath;

                let titleHeading = document.createElement('h2');

                let titleLink = document.createElement('a');
                titleLink.classList.add('ItemTitle');
                titleLink.href = "productpage.html";
                titleLink.append(document.createTextNode(itemName));

                let priceHeading = document.createElement('h3');
                priceHeading.append(document.createTextNode(itemPrice+" €"));

                let addToCartButton = document.createElement('button');
                addToCartButton.classList.add("addToCartButton");
                addToCartButton.id= itemID;
                addToCartButton.onclick = function() { addToCart(parseInt(itemID))};
                addToCartButton.textContent = "Add";

                frame.append(item);
                item.append(image);
                item.append(titleHeading);
                titleHeading.append(titleLink);
                item.append(priceHeading);
                item.append(addToCartButton)

                document.getElementById('ItemFrame').append(frame);
            }

            function addToCart(_itemID) {
                _cart.push(_itemID);
                sessionStorage.setItem("_cart", JSON.stringify(_cart));
                document.getElementById("CartLink").textContent = " Cart: " + (_cart.length);
            }
        </script>

    </body>
</html>