<!DOCTYPE html>
<html>
    <head>
        <title>GPU Store</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">
        <link rel="stylesheet" href="index.css" />
        <link rel="stylesheet" href="fontawesome-free-5.15.1-web/css/all.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400&display=swap" rel="stylesheet">
    </head>
    <body>
        <div id="page-container">
            <!-- Page headers start here -->
            <div id="HeaderContainer">
                <div id="HeaderBar">
                    <div class="Group">
                        <div id="DropdownSidebar">
                            <p> <i class="fa fa-bars"></i> </p>
                        </div>
                        <div id="Title">
                            <p>
                            <h1><b>Generic GPU Store</b></h1>
                            </p>
                        </div>
                    </div>
                    <div class="Group">
                        <div id="Account">
                            <a id="User_Login" href="error.html"> Log in </a>
                            <span style="color: #5f6062">or</span>
                            <a id="Create_Account" href="error.html"> Create an account </a>
                        </div>
                        <div id="Cart">
                            <a id="CartLink" href="cart.html"> <i class="fa fa-shopping-cart"></i> Cart: 0</a>
                        </div>
                        <div id="SearchBar">
                            <form action="error.html">
                                <button id="SearchButton" type="submit"> <i class="fa fa-search"></i> </button>
                                <input type="text" id="SearchField" placeholder="Search...">
                            </form>
                        </div>
                    </div>
                </div>
                <div id="MenuBar">
                    <button id="Btn_Left" title="Home" onclick="window.location.href='index.html'"> <b>Home</b> </button>
                    <button title="Games and media" onclick="window.location.href='error.html'"> <b>Games and Media</b>
                    </button>
                    <button title="Cooling" onclick="window.location.href='error.html'"> <b>Cooling</b> </button>
                    <button title="Accessories" onclick="window.location.href='error.html'"> <b>Accessories</b> </button>
                    <button id="Btn_Right" title="Spare parts" onclick="window.location.href='error.html'"> <b>Spare Parts</b>
                    </button>
                </div>
            </div>
            <!-- Page content starts here -->
            <div id="Content">
                <div>
                    <img src="resources/Images/frontpage_banner.jpg" height="100%" width="100%" alt="">
                </div>    
                <div id="ItemFrame">
                    <!-- Product cards come here -->
                </div>    
            </div>
            <!-- Page footer starts here -->
            <div id="Footer">
                <a href="https://www.freepik.com/vectors/background">Background vector created by starline - www.freepik.com</a>
            </div>
        </div>
        <script>
            const _data = [
                {
                    name: 'AMD Radeon 5700 XT',
                    price: '459',
                    image: 'resources/Images/251223-b324043_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS TUF GAMING RTX 3080 10G',
                    price: '899',
                    image: 'resources/Images/rtx3080tuf.jpg',
                    description: [
                        'Graphics engine: NVIDIA® GeForce RTX™ 3080' ,
                        'Bus standard: PCI Express 4.0',
                        'OpenGL: OpenGL®4.6',
                        'Video memory: GGDDR6X',
                        'Memory speed: 19 Gbps',
                        'Memory interface: 320-bit',
                        'Engine clock: OC Mode - 1740 MHz (Boost Clock)',
                        'Gaming Mode (Default) - GPU Boost Clock : 1710 MHz , GPU Base Clock : 1440 MHz',
                        'CUDA core: 8704',
                        'Resolution: Digital max resolution: 7680x4320',
                        'Interface: 2x HDMI 2.1 port, 3x DisplayPort 1.4a, HDCP support',
                        'Maximum displays supported: 4',
                        'NVlink support: No',
                        'Recommended PSU: 850W',
                        'Power connectors: 2 x 8-pin',
                        'Accessories: 1 x Collection card, 1 x Speedsetup manual',
                        '1 x TUF certificate of Reliability'
                    ]
                },

                {
                    name: 'MSI GeForce RTX 3070 Ventus 3X OC',
                    price: '619',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS GeForce RTX 3070 8GB GDDR6 DUAL OC',
                    price: '619',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'GeForce RTX3070 GamingPro',
                    price: '639',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS TUF GAMING GeForce RTX™ 3070 OC Edition 8GB GDDR6',
                    price: '669',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'EVGA GeForce RTX 3070 XC3 BLACK',
                    price: '619',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS ROG STRIX RTX3090 O24G GAMING',
                    price: '1889',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                },

                {
                    name: 'ASUS GeForce RTX 3070 8GB GDDR6 ROG STRIX GAMING',
                    price: '719',
                    image: 'resources/Images/302003-b303045_300x300.jpg',
                    description: [
                        ''
                    ]
                }
            ];

            var _cart = [];

            pupulateTiles();

            function pupulateTiles() {
                for (let i = 0; i < _data.length; i++) {
                    addItemToPage(i, _data[i].image, _data[i].name, _data[i].price);
                }
                if (JSON.parse(sessionStorage.getItem("_cart")) != null) {
                    _cart = JSON.parse(sessionStorage.getItem("_cart"));
                }
                if (!_cart.length) { /*---*/ }
                else { document.getElementById("CartLink").textContent = " Cart: " + (_cart.length); }
                console.log("Pog");
            }

            function addItemToPage(itemID, imagePath, itemName, itemPrice) {
                let frame = document.createElement('div');
                frame.classList.add('ItemContainer');

                let item = document.createElement('div');
                item.classList.add('Item');

                let image = document.createElement('img');
                image.classList.add('ItemImg');
                image.src = imagePath;

                let titleHeading = document.createElement('h2');

                let titleLink = document.createElement('a');
                titleLink.classList.add('ItemTitle');
                titleLink.href = "productpage.html";
                titleLink.append(document.createTextNode(itemName));

                let priceHeading = document.createElement('h3');
                priceHeading.append(document.createTextNode(itemPrice + " €"));

                let addToCartButton = document.createElement('button');
                addToCartButton.classList.add("AddToCartBtn");
                addToCartButton.id = itemID;
                addToCartButton.onclick = function () { addToCart(parseInt(itemID)) };
                addToCartButton.textContent = "Add to cart";

                frame.append(item);
                item.append(image);
                item.append(titleHeading);
                titleHeading.append(titleLink);
                item.append(priceHeading);
                item.append(addToCartButton)

                document.getElementById('ItemFrame').append(frame);
            }

            function addToCart(_itemID) {
                _cart.push(_itemID);
                sessionStorage.setItem("_cart", JSON.stringify(_cart));
                document.getElementById("CartLink").textContent = " Cart: " + (_cart.length);
            }
        </script>
    </body>
</html>