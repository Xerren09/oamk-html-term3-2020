const _data = [
    {
        name: 'AMD Radeon 5700 XT',
        price: '459',
        image: 'resources/Images/251223-b324043_300x300.jpg',
        description: [
            'Clock frequency:',
            '- Boost: Max 2010 MHz',
            '- Game: 1905 MHz',
            '- Base: 1770 MHz',
            'Cores: 2560 (40 CU)',
            'Memory Capacity: 8GB GDDR6',
            'Speed: 14 Gbps',
            'Memory bus: 256-bit',
            'Connections',
            '1 x HDMI 2.0b',
            '3 x DisplayPort (v1.4)',
            'Bus: PCI Express 4.0',
            'Dimensions: 300 x 132 x 53 mm',
            'Recommended power supply size: 700W',
            'Power connections: 2 x 8-pin'
        ]
    },

    {
        name: 'ASUS TUF GAMING RTX 3080 10G',
        price: '899',
        image: 'resources/Images/rtx3080tuf.jpg',
        description: [
            'Graphics engine: NVIDIA® GeForce RTX™ 3080',
            'Bus standard: PCI Express 4.0',
            'OpenGL: OpenGL®4.6',
            'Video memory: GGDDR6X',
            'Memory speed: 19 Gbps',
            'Memory interface: 320-bit',
            'Engine clock: OC Mode - 1740 MHz (Boost Clock)',
            'Gaming Mode (Default) - GPU Boost Clock : 1710 MHz , GPU Base Clock : 1440 MHz',
            'CUDA core: 8704',
            'Resolution: Digital max resolution: 7680x4320',
            'Interface: 2x HDMI 2.1 port, 3x DisplayPort 1.4a, HDCP support',
            'Maximum displays supported: 4',
            'NVlink support: No',
            'Recommended PSU: 850W',
            'Power connectors: 2 x 8-pin',
            'Accessories: 1 x Collection card, 1 x Speedsetup manual',
            '1 x TUF certificate of Reliability'
        ]
    },

    {
        name: 'MSI GeForce RTX 3070 Ventus 3X OC',
        price: '619',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'Clock frequency:',
            '- Boost: Max 2010 MHz',
            '- Game: 1905 MHz',
            '- Base: 1770 MHz',
            'Cores: 2560 (40 CU)',
            'Memory Capacity: 8GB GDDR6',
            'Speed: 14 Gbps',
            'Memory bus: 256-bit',
            'Connections',
            '1 x HDMI 2.0b',
            '3 x DisplayPort (v1.4)',
            'Bus: PCI Express 4.0',
            'Dimensions: 300 x 132 x 53 mm',
            'Recommended power supply size: 700W',
            'Power connections: 2 x 8-pin'
        ]
    },

    {
        name: 'ASUS GeForce RTX 3070 8GB GDDR6 DUAL OC',
        price: '619',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'CUDA cores: 5888',
            'Clock frequency:',
            '- OC mode: 1800 MHz (Boost)',
            '- Gaming mode: 1770 MHz (Boost)',
            'Memory size: 8GB GDDR6',
            'Memory bus: 256-bit',
            'Speed: 14Gbps',
            'Connections',
            '- 2 x HDMI 2.1',
            '- 3 x DisplayPort 1.4a',
            'Bus: PCIE 4.0',
            'Dimensions: 267 x 135 x 52 mm / 2.7 slots',
            'Weight: 1.094 kg',
            'OpenGL: Open GL 4.6',
            'HDCP support: HDCP 2.3',
            'Maximum digital resolution: 7680 x 4320',
            'Maximum supported impressions: 4',
            'Recommended power supply size: 750W',
            'Power connections: 2 x 8-pin '
        ]
    },

    {
        name: 'GeForce RTX3070 GamingPro',
        price: '639',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'CUDA cores: 5888',
            'Clock frequency: 1500 MHz / 1770 MHz (Boost)',
            'Memory size: 8GB GDDR6',
            'Memory bus: 256-bit',
            'Clock speed: 14 Gbps',
            'Bandwidth: 448 GB / s',
            'Connections:',
            '- HDMI 2.1 (max. 7680 x 4320 @ 60Hz)',
            '- 3 x DisplayPort 1.4a (max. 7680 x 430 @ 60Hz)',
            'Bus: PCI Express 4.0 16x',
            'Dimensions: 294 x 112 x 60 mm / 2.7 slots',
            'Recommended power supply size: 650W',
            'Power connections: 2 x 8-pin '
        ]
    },

    {
        name: 'ASUS TUF GAMING GeForce RTX™ 3070 OC Edition 8GB GDDR6',
        price: '669',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'CUDA cores: 4864',
            'Clock frequency:',
            '- OC Mode: 1785 MHz (Boost Clock)',
            '- Gaming Mode: 1755 MHz (Boost Clock)',
            'Memory size: 8GB GDDR6',
            'Memory bus: 256-bit',
            'Clock speed: 14 Gbps',
            'Connections',
            '- 2 x HDMI 2.1',
            '- 3 x DisplayPort 1.4a',
            'Bus: PCI-E 4.0 x16',
            'Dimensions: 301 x 143 x 54 mm / 2.7 slots',
            'Weight: 1140g',
            'Recommended power supply size: 750W',
            'Power connections: 1 x 8-pin '
        ]
    },

    {
        name: 'EVGA GeForce RTX 3070 XC3 BLACK',
        price: '619',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'CUDA cores: 5888',
            'Clock frequency: 1725 MHz (Boost)',
            'Memory size: 8GB GDDR6',
            'Memory bus: 256-bit',
            'Clock frequency: 14,000 MHz (effective)',
            'Bandwidth: 448 GB / s',
            'Connections',
            '- 1 x HDMI 2.1',
            '- 3 x DisplayPort 1.4a',
            'Bus: PCI-E 4.0 x16',
            'Dimensions: 111.15 x 285.37 mm | 2.2 Slots',
            'Recommended power supply size: 650W',
            'Power connections: 2 x 8-pin',
            'Cooling: iCX3',
            'LED Logo: ARGB '
        ]
    },

    {
        name: 'ASUS ROG STRIX RTX3090 O24G GAMING',
        price: '1889',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'CUDA cores: 10496',
            'Clock frequency:',
            '- OC mode: 1890 MHz (Boost)',
            '- Gaming mode: 1860 MHz (Boost)',
            'Memory size: 24GB GDDR6X',
            'Memory bus:',
            'Speed: 19.5Gbps',
            'Connections',
            '- 2 x HDMI 2.1',
            '- 3 x DisplayPort 1.4a',
            'Bus: PCIE 4.0',
            'Dimensions: 318.5 x 140.1 x 57.78 mm / 2.9 slots',
            'Weight: 1.77 kg',
            'OpenGL: Open GL 4.6',
            'HDCP support: HDCP 2.3',
            'Maximum digital resolution: 7680 x 4320',
            'Maximum supported impressions: 4',
            'NVLINK Support: Yes',
            'Recommended power supply size: 850W',
            'Power connections: 3 x 8-pin '
        ]
    },

    {
        name: 'ASUS GeForce RTX 3070 8GB GDDR6 ROG STRIX GAMING',
        price: '719',
        image: 'resources/Images/302003-b303045_300x300.jpg',
        description: [
            'CUDA cores: 5888',
            'Clock frequency:',
            '- OC mode: 1935 MHz (Boost)',
            '- Gaming mode: 1905 MHz (Boost)',
            'Memory size: 8GB GDDR6',
            'Memory bus: 256-bit',
            'Speed: 14Gbps',
            'Connections',
            '- 2 x HDMI 2.1',
            '- 3 x DisplayPort 1.4a',
            'Bus: PCIE 4.0',
            'Dimensions: 318.5 x 140.1 x 57.78 mm / 2.9 slots',
            'Weight: 1.73 kg',
            'OpenGL: Open GL 4.6',
            'HDCP support: HDCP 2.3',
            'Maximum digital resolution: 7680 x 4320',
            'Maximum supported impressions: 4',
            'Recommended power supply size: 750W',
            'Power connections: 2 x 8-pin '
        ]
    }
]

var _cart = [];

function getPageID() {
    if (sessionStorage.getItem("_referer") != null) {
        let _referer = sessionStorage.getItem("_referer");
        generatePageContents(_referer);
    }
    else {
        generatePageContents(1);
    }
}

function generatePageContents(_itemID) {
    let frame = document.createElement('div');
    frame.id = "rectangle";

    let productImage = document.createElement('img');
    productImage.classList.add('ItemImg');
    productImage.src = _data[_itemID].image;

    let productInfoBox = document.createElement('div');
    productInfoBox.id = "ItemDescription";

    let productNameDiv = document.createElement('div');
    productNameDiv.id = "name";

    let productName = document.createElement('h1');
    productName.append(document.createTextNode(_data[_itemID].name));

    let productPriceDiv = document.createElement('div');

    let productPrice = document.createElement('h3');
    productPrice.append(document.createTextNode(_data[_itemID].price + "€"));

    let productHL1 = document.createElement('hr');

    let cartControlDiv = document.createElement('div');
    cartControlDiv.id = "CartControl";

    let cartProductCount = document.createElement('input');
    cartProductCount.type = "number";
    cartProductCount.id = "_itemNumberJS";
    cartProductCount.value = "1";
    cartProductCount.min = "1";

    let cartAddButton = document.createElement('button');
    cartAddButton.id = "AddToCart";
    cartAddButton.onclick = function () { addToCart(parseInt(_itemID)) };
    cartAddButton.textContent = "Add to cart";

    let productHL2 = document.createElement('hr');

    let productDescriptionDiv = document.createElement('div');
    productDescriptionDiv.id = "Description";
    productDescriptionDiv.contentEditable = false;

    let productDescriptionStrong = document.createElement('strong');
    productDescriptionStrong.append("Features:")

    let productDescriptionUl = document.createElement('ul');
    productDescriptionUl.style = "padding-left: 15px;";

    frame.append(productImage);
    frame.append(productInfoBox);
    productInfoBox.append(productNameDiv);
    productNameDiv.append(productName);
    productInfoBox.append(productPriceDiv);
    productPriceDiv.append(productPrice);
    productInfoBox.append(productHL1);
    productInfoBox.append(cartControlDiv);
    cartControlDiv.append(cartProductCount);
    cartControlDiv.append(cartAddButton);
    productInfoBox.append(productHL2);
    productInfoBox.append(productDescriptionDiv);
    productDescriptionDiv.append(productDescriptionStrong);
    productDescriptionDiv.append(productDescriptionUl);

    for (let i = 0; i < _data[_itemID].description.length; i++) {
        let productDescriptionLi = document.createElement('li');
        productDescriptionLi.append(document.createTextNode(_data[_itemID].description[i]));
        productDescriptionUl.append(productDescriptionLi);
    }

    document.getElementById('Content').append(frame);

    updateCart();
}

function updateCart() {
    //
    if (JSON.parse(sessionStorage.getItem("_cart")) != null) {
        _cart = JSON.parse(sessionStorage.getItem("_cart"));
    }
    if (!_cart.length) {
        document.getElementById("CartLink").textContent = " Cart: " + (0);
    }
    else { document.getElementById("CartLink").textContent = " Cart: " + (_cart.length); }
    //
}

function addToCart(_itemID) {
    let count = document.getElementById("_itemNumberJS").value;
    for (let i = 0; i < parseInt(count); i++) {
        _cart.push(_itemID);
    }
    sessionStorage.setItem("_cart", JSON.stringify(_cart));
    document.getElementById("CartLink").textContent = " Cart: " + (_cart.length);
}